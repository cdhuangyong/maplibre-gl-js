<!--
 * @Author: yongju
 * @Date: 2021-02-22 19:26:19
 * @LastEditors: yongju
 * @LastEditTime: 2021-02-22 20:28:10
 * @Description: 
-->
<!DOCTYPE html>
<html>
<head>
    <title>Mapbox GL JS debug page</title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel='stylesheet' href='../dist/maplibre-gl.css' />
    <style>
        body { margin: 0; padding: 0; }
        html, body, #map { height: 100%; }
    </style>
</head>

<body>
<div id='map'></div>

<script src='../dist/maplibre-gl-dev.js'></script>
<script>
maplibregl.projection = 4490;
maplibregl.accessToken = "pk.eyJ1IjoiY2RodWFuZ3lvbmciLCJhIjoiY2tjeTNvOXFxMDY0OTJzbXdwdnQ5eXJkMyJ9.esxleaBUk77Ybqivz4syVQ";
var style = {
    version: 8,
    sources: {
        countries: {
            type: 'geojson',
            data: {
                type:"FeatureCollection",
                features:[
                    {
                        type:"Feature",
                        geometry:{
                            type:"Polygon",
                            coordinates:[
                                [
                                    [116,32],
                                    [116 + 1,32],
                                    [116 + 1,32 + 1],
                                    [116,32 + 1],
                                    [116,32]
                                ]
                            ]
                        },
                        properties:{}
                    }
                ]
            }
        },
        points: {
            type: 'geojson',
            data: {
                type:"FeatureCollection",
                features:[
                    {
                        type:"Feature",
                        geometry:{
                            type:"Point",
                            coordinates:[116,32 + 1]
                        },
                        properties:{
                            name:1
                        }
                    },
                    {
                        type:"Feature",
                        geometry:{
                            type:"Point",
                            coordinates:[116 + 1,32 + 1]
                        },
                        properties:{
                            name:1
                        }
                    },
                    {
                        type:"Feature",
                        geometry:{
                            type:"Point",
                            coordinates:[116,32]
                        },
                        properties:{
                            name:1
                        }
                    },
                    {
                        type:"Feature",
                        geometry:{
                            type:"Point",
                            coordinates:[116 + 1,32]
                        },
                        properties:{
                            name:1
                        }
                    }
                ]
            }
        },
        tianditu: {
            type: 'raster',
            tiles: ['http://t0.tianditu.gov.cn/img_c/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=c&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=755a7d8636035a8308201503309c944f'],
            tileSize: 256
        }
    },
    glyphs: 'mapbox://fonts/mapbox/{fontstack}/{range}.pbf',
    layers: [
        {
            id: 'tianditu',
            type: 'raster',
            source: 'tianditu'
        },
        {
            id: 'countries',
            type: 'line',
            source: 'countries'
        },
        {
            id: 'points',
            type: 'symbol',
            source: 'points',
            layout: {
                'text-field': '{name}'
            }
        }
    ]
};

var map = window.map = new maplibregl.Map({
    container: 'map',
    zoom: 4,
    center: [105, 35],
    style: style,
    hash: true
});

</script>
</body>
</html>